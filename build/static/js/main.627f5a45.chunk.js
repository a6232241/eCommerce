(this.webpackJsonpe_commerce=this.webpackJsonpe_commerce||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),o=(a(83),a(21)),i=a(22),u=a(26),s=a(24),m=a(6),p=a.n(m),h=a(10),d=a(19),f=a(117),E=a(118),b=a(119),g=a(31),v=a(127),y=(a(85),"https://e-commerce-plat-backend.herokuapp.com"),O=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){l(e.item)}),[e.item]),r.a.createElement(g.b,{to:{pathname:"/apparel/".concat(c.style,"/").concat(c.aid)},style:{textDecoration:"none",color:"#000"}},r.a.createElement(v.a,{className:"text-center my-3",id:"commodity-container"},r.a.createElement(v.a.Img,{variant:"top",src:"".concat(y).concat(c.imgPath)}),r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,{id:"commodity-title"},c.title),r.a.createElement(v.a.Text,{id:"commodity-price"},"$",c.price))))},j=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderList",value:function(){return this.props&&this.props.list&&this.props.list.length>0?this.props.list.map((function(e,t){return r.a.createElement(f.a,{md:"3",xs:"12",key:t},r.a.createElement(O,{item:e}))})):void 0}},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(E.a,{fluid:"md"},r.a.createElement(b.a,null,r.a.createElement(f.a,null,r.a.createElement("h3",{className:"text-right"},void 0===this.props.style?"\u63a8\u85a6":this.props.style))),r.a.createElement(b.a,null,this.renderList())))}}]),a}(n.Component),w=a(71),x=a.n(w).a.create({withCredentials:!0,baseURL:y,headers:{"content-type":"multipart/form-data"}}),k=function(e){return console.log("".concat(e.data.message)),e.data.data},N=function(e){console.log(e.data)},S=function(){return Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/getCommodityList").then(k).catch(N);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},C=function(e){return Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.post("/getCommodityItem",e).then(k).catch(N);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},D=function(){return Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/generateUUID").then(k).catch(N);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},z=function(e){return Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.post("/getShoppingData",e).then(k).catch(N);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},V=function(e){return Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.post("/addShoppingData",e).then(k).catch(N);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))()},A=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l().then((function(e){c(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(j,{list:a}))},I=a(36),U=function(e){return r.a.createElement("div",null,Object(I.a)(e.route.children))},B=function(e){var t=e.match.params,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(h.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("style",t.style),e.next=4,C(a);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){o(e)}))}),[t]),r.a.createElement("div",null,r.a.createElement(j,{style:t.style,list:l}))},G=a(28),F=a(72),L=a(120),P=a(125),T=a(121),H=a(48),J=a(7),W=function(e,t){"undefined"!==typeof Storage?localStorage.setItem(e,t):document.cookie=e+"="+t},X=function(e){return"undefined"!==typeof Storage?localStorage.getItem(e):function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""}(e)},$=Object(J.f)((function(e){var t=function(){var t=Object(h.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.shopping.colorVal.length&&0!==e.shopping.sizeVal.length){t.next=4;break}alert("\u8acb\u9078\u64c7\u5c3a\u5bf8\u6216\u984f\u8272"),t.next=11;break;case 4:return(a=new FormData).append("uuid",X("uuid")),a.append("shopping",JSON.stringify(e.shopping)),t.next=9,V(a);case 9:alert("\u52a0\u5165\u8cfc\u7269\u8eca"),e.history.push(window.location.pathname);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(H.a,{variant:"outline-warning",className:"ml-2",size:"lg",onClick:t},"\u653e\u5165\u8cfc\u7269\u8eca")})),R=function(e){var t=function(){var t=Object(h.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onClick&&e.onClick(),window.location.href="".concat(y,"/paymentaction?uuid=").concat(X("uuid"));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(H.a,{variant:"outline-danger",className:"ml-2",size:e.size,onClick:t},"\u524d\u5f80\u7d50\u5e33")},_=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={aid:n.props.aid,colorVal:"",sizeVal:"",amount:1},n.renderButton=n.renderButton.bind(Object(G.a)(n)),n.changeColorVal=n.changeColorVal.bind(Object(G.a)(n)),n.changeSizeVal=n.changeSizeVal.bind(Object(G.a)(n)),n.changeAmount=n.changeAmount.bind(Object(G.a)(n)),n}return Object(i.a)(a,[{key:"renderButton",value:function(e){var t=this.props.container[e];return void 0!==t?t.split(",").map((function(e,t){return r.a.createElement(F.a,{key:t,value:e,className:"ml-2 mb-3",variant:"outline-primary"},e)})):void 0}},{key:"changeColorVal",value:function(e){this.setState({colorVal:e})}},{key:"changeSizeVal",value:function(e){this.setState({sizeVal:e})}},{key:"changeAmount",value:function(e){this.setState({amount:parseInt(e.target.value.replace(/\D/,""))})}},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(f.a,{className:"d-flex",md:"4",style:{borderRight:"#ccc 1px solid"}},r.a.createElement(L.a,{style:{margin:"auto"},src:"".concat(y).concat(this.props.container.imgPath)})),r.a.createElement(f.a,{className:"text-right"},r.a.createElement("h2",null,this.props.container.title),r.a.createElement("h3",null,"NT$ ",this.props.container.price),r.a.createElement("h6",null,"\u984f\u8272"),r.a.createElement(P.a,{type:"radio",name:"options",value:this.state.colorVal,onChange:this.changeColorVal},this.renderButton("color")),r.a.createElement("h6",null,"\u5c3a\u5bf8"),r.a.createElement(P.a,{type:"radio",name:"options",value:this.state.sizeVal,onChange:this.changeSizeVal},this.renderButton("size")),r.a.createElement("h6",null,"\u6578\u91cf"),r.a.createElement(T.a,{className:"justify-content-md-end mb-3"},r.a.createElement("input",{type:"number",min:1,max:99,value:this.state.amount,onChange:this.changeAmount})),r.a.createElement(R,{size:"lg"}),r.a.createElement($,{shopping:this.state,aid:this.props.aid}))),r.a.createElement("hr",null)),r.a.createElement(E.a,null,r.a.createElement("h2",null,"\u8a73\u7d30\u8cc7\u8a0a"),r.a.createElement(b.a,null,r.a.createElement(L.a,{style:{margin:"auto"},src:"".concat(y).concat(this.props.container.imgPath)}))))}}]),a}(n.Component),M=[{path:"/",component:A,exact:!0,Name:"Index",title:"\u4e3b\u9801"},{path:"/apparel",component:U,Name:"Apparel",title:"\u670d\u98fe",children:[{path:"/apparel/:style",component:B,exact:!0,Name:"Styles",title:"\u985e\u578b"},{path:"/apparel/:style/:aid",component:function(e){var t=e.match.params,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(h.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("style",t.style),a.append("aid",t.aid),e.next=5,C(a);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){o(e[0])}))}),[t]),r.a.createElement("div",null,r.a.createElement(_,{aid:t.aid,container:l}),Object(I.a)(e.route.children))},Name:"CommodityPage",title:"XXX"}]}],q=a(124),K=a(126),Q=a(123),Y=function(e){return r.a.createElement(q.a,{expand:"md"},r.a.createElement(K.a,{className:"mx-auto ",style:{fontSize:"1.5rem",fontWeight:"900"}},r.a.createElement(K.a.Link,{href:"/"},"\u4e3b\u9801"),r.a.createElement(Q.a,{title:"\u985e\u578b",id:"basic-nav-dropdown"},r.a.createElement(g.b,{to:{pathname:"/apparel/coat"},className:"dropdown-item"},"\u4e0a\u8863"),r.a.createElement(g.b,{to:{pathname:"/apparel/pants"},className:"dropdown-item"},"\u8932\u5b50"),r.a.createElement(Q.a.Divider,null),r.a.createElement(g.b,{to:{pathname:"/apparel/accessories"},className:"dropdown-item"},"\u914d\u4ef6"))))},Z=a(122),ee=(a(111),a(45)),te=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),u=i[0],s=i[1],m=0,p=function(){return l(!1)};return""===u?r.a.createElement("section",null,r.a.createElement(ee.a,{id:"shoppingCart",onClick:function(){return l(!0)},style:{fontSize:"1.75rem"}}),r.a.createElement(Z.a,{className:"sm-12",centered:!0,size:"lg",show:c,onHide:p},r.a.createElement(Z.a.Header,{closeButton:!0},r.a.createElement(Z.a.Title,null,"\u8cfc\u7269\u8eca")),r.a.createElement(Z.a.Body,{className:"text-right"},r.a.createElement(b.a,null,r.a.createElement(f.a,null,"\u7de8\u865f"),r.a.createElement(f.a,{md:5},"\u540d\u7a31"),r.a.createElement(f.a,null,"\u984f\u8272"),r.a.createElement(f.a,null,"\u5c3a\u5bf8"),r.a.createElement(f.a,null,"\u6578\u91cf"),r.a.createElement(f.a,null,"\u7e3d\u50f9")),function(){if(e&&e.shoppingAll&&e.shoppingAll.length>0)return e.shoppingAll.map((function(e,t){return m+=e.totalAmount,r.a.createElement(b.a,{key:t},r.a.createElement(f.a,null,t),r.a.createElement(f.a,{md:5},e.title),r.a.createElement(f.a,null,e.color),r.a.createElement(f.a,null,e.size),r.a.createElement(f.a,null,e.amount),r.a.createElement(f.a,null,e.totalAmount))}))}(),r.a.createElement("hr",null),r.a.createElement(b.a,null,r.a.createElement(f.a,null,"\u7e3d\u91d1\u984d"),r.a.createElement(f.a,{md:2},m))),r.a.createElement(Z.a.Footer,null,r.a.createElement(R,{changeDom:s,onClick:p}),r.a.createElement(H.a,{variant:"outline-warning",className:"ml-2",onClick:p},"\u7e7c\u7e8c\u8cfc\u7269")))):r.a.createElement("div",null)},ae=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={shoppingData:[]},n.handleGenerateUUID=n.handleGenerateUUID.bind(Object(G.a)(n)),n.handleGetShoppingData=n.handleGetShoppingData.bind(Object(G.a)(n)),n}return Object(i.a)(a,[{key:"handleGenerateUUID",value:function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleGetShoppingData",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;if(null===X("uuid")){this.handleGenerateUUID().then((function(e){W("uuid",e)}))}else{var t=X("uuid"),a=new FormData;a.append("uuid",t),this.handleGetShoppingData(a).then((function(t){e.setState({shoppingData:t})}))}}},{key:"render",value:function(){return r.a.createElement("header",{className:"pt-3"},r.a.createElement(E.a,{fluid:"md"},r.a.createElement(b.a,null,r.a.createElement(f.a,{md:"7",xs:"12",className:"text-md-left text-center"},r.a.createElement("h1",null,"CHENG \u7684\u670d\u98fe\u5546\u5e97")),r.a.createElement(f.a,{className:"text-md-right text-center"},r.a.createElement(te,{shoppingAll:this.state.shoppingData}))),r.a.createElement(Y,null),r.a.createElement("hr",null)))}}]),a}(n.Component),ne=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"bg-dark text-light p-5"},r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(f.a,null,r.a.createElement("h5",{className:"border-bottom border-white"},"\u95dc\u65bc\u6211\u5011"),r.a.createElement("p",null,"\u8863\u670d\u3001\u8932\u896a\u3001\u98fe\u54c1")),r.a.createElement(f.a,null,r.a.createElement("h5",{className:"border-bottom border-white"},"\u806f\u7d61\u6211\u5011"),r.a.createElement("p",null,r.a.createElement(ee.c,null),r.a.createElement("span",{className:"align-middle"}," cheng")),r.a.createElement("p",null,r.a.createElement(ee.b,null),r.a.createElement("span",{className:"align-middle"}," blf2556@gmail.com"))))))}}]),a}(n.Component),re=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ae,null),r.a.createElement("main",{className:"pb-4"},Object(I.a)(M)),r.a.createElement(ne,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g.a,null,r.a.createElement(J.c,null,r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a(112)},83:function(e,t,a){},85:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.627f5a45.chunk.js.map